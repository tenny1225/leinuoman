<html>

<head>
    <title>桃嘿嘿占卜</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <style type="text/css">
        #bbody {
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" ><text transform="rotate(30, 20, 40)" x="50" y="50" font-size="20" fill="rgb(210,210,210)" >桃嘿嘿</text></svg>');
            background-repeat: repeat;
        }
    </style>
</head>

<body id="bbody">
    <center>
        <table id="tb" cellpadding="4">
        </table>
        <br><br>
        <div>
            <button onclick="xipai()" id="xipai">重新洗牌</button>&nbsp;&nbsp;&nbsp;
            <button onclick="ok(1)" id="ok">线性</button>&nbsp;&nbsp;&nbsp;
            <button onclick="ok(3)" id="ok">H阵(7)</button>&nbsp;&nbsp;&nbsp;
            <button onclick="ok(2)" id="ok">十字(5)</button>&nbsp;&nbsp;&nbsp;
            <button onclick="ok(4)" id="ok">九宫格(9)</button>
        </div>
    </center>

</body>

<script>
    let selected = [];
    window.onload = function () {
        for (let i = 1; i <= 36; i++) {
            let id = i;
            if (i < 10) id = "0" + i;
            let img = new Image();
            img.src = 'A-Qia-Xi-Zhi-Yan_Lei-Nuo-Man_' + id + '.png';
        }
        xipai();
    };
    function xipai() {
        selected = [];
        let tb = document.querySelector("#tb");
        tb.innerHTML = "";
        let data = [];
        for (let i = 1; i <= 36; i++) {
            if (i < 10) {
                data.push("0" + i)
            } else {
                data.push(i)
            }
        }
        data.sort(function (a, b) {
            return Math.random() - 0.45;
        })
        for (let i = 0; i < 6; i++) {
            let tr = document.createElement("tr")
            for (let j = 0; j < 6; j++) {
                let td = document.createElement("td");
                td.style.verticalAlign = "middle";
                td.style.height = "89px";
                td.style.width = "57px";
                td.style.cursor = "pointer";
                let id = j + 1 + i * 6;
                if (id < 10) id = "0" + id;
                td.innerHTML = "<div style='height:89px;width:57px;border-radius:4px;background-color:#bca58b;line-height:89px;'>" + id + "</div>"
                td.addEventListener("click", function () {
                    td.style.transform = "scale(0,1)";
                    td.style.transitionDuration = "0.3s";
                    selected.push(data[j + i * 6]);
                    setTimeout(() => {
                        td.innerHTML = "<img src='A-Qia-Xi-Zhi-Yan_Lei-Nuo-Man_" + data[j + i * 6] + ".png' style='height:89px;width:57px'>"
                        td.style.transform = "scale(1,1)";
                        td.style.transitionDuration = "0.3s";
                        td.removeEventListener("click");
                    }, 300);
                });
                td.style.textAlign = "center";
                tr.appendChild(td);
            }
            tb.appendChild(tr);
        }
    }
    function ok(v) {

        let data = [].concat(selected);
        selected = [];
        let tb = document.querySelector("#tb");
        tb.innerHTML = "";

        if (v == 1) {
            let tr = document.createElement("tr")
            for (let j = 0; j < data.length; j++) {
                let td = document.createElement("td");
                td.style.verticalAlign = "middle";
                td.style.height = "178px";
                td.style.width = "114px";
                td.style.cursor = "pointer";
                td.innerHTML = "<img src='A-Qia-Xi-Zhi-Yan_Lei-Nuo-Man_" + data[j] + ".png' style='height:178px;width:114px'>"
                td.style.textAlign = "center";
                tr.appendChild(td);
            }
            tb.appendChild(tr)
        } else if (v == 2 && data.length == 5) {
            for (let i = 0; i < 3; i++) {
                let tr = document.createElement("tr")

                for (let j = 0; j < 3; j++) {
                    let index = -1;
                    if (j + i * 3 == 3) {
                        index = 0
                    } else if (j + i * 3 == 4) {
                        index = 1;
                    } else if (j + i * 3 == 5) {
                        index = 2;
                    } else if (j + i * 3 == 1) {
                        index = 3;
                    } else if (j + i * 3 == 7) {
                        index = 4;
                    }

                    let td = document.createElement("td");
                    td.style.verticalAlign = "middle";
                    td.style.height = "178px";
                    td.style.width = "114px";
                    td.style.cursor = "pointer";
                    td.innerHTML = "<img src='A-Qia-Xi-Zhi-Yan_Lei-Nuo-Man_" + data[index] + ".png' style='height:178px;width:114px'>"
                    td.style.textAlign = "center";
                    if (index == -1) {
                        td.innerHTML = "<div style='height:178px;width:114px'></div>"

                    }
                    tr.appendChild(td);
                }
                tb.appendChild(tr);

            }



        } else if (v == 3 && data.length == 7) {

            for (let i = 0; i < 3; i++) {
                let tr = document.createElement("tr")
                for (let j = 0; j < 3; j++) {
                    let index = -1;
                    if (j + i * 3 == 0) {
                        index = 0
                    } else if (j + i * 3 == 3) {
                        index = 1;
                    } else if (j + i * 3 == 6) {
                        index = 2;
                    } else if (j + i * 3 == 2) {
                        index = 3;
                    } else if (j + i * 3 == 5) {
                        index = 4;
                    } else if (j + i * 3 == 8) {
                        index = 5;
                    } else if (j + i * 3 == 4) {
                        index = 6;
                    }

                    let td = document.createElement("td");
                    td.style.verticalAlign = "middle";
                    td.style.height = "178px";
                    td.style.width = "114px";
                    td.style.cursor = "pointer";
                    td.innerHTML = "<img src='A-Qia-Xi-Zhi-Yan_Lei-Nuo-Man_" + data[index] + ".png' style='height:178px;width:114px'>"
                    td.style.textAlign = "center";
                    if (index == -1) {
                        td.innerHTML = "<div style='height:178px;width:114px'></div>"

                    }
                    tr.appendChild(td)
                }
                tb.appendChild(tr);
            }

        } else if (v == 4 && data.length == 9) {
            for (let i = 0; i < 3; i++) {
                let tr = document.createElement("tr")
                for (let j = 0; j < 3; j++) {
                    let index = j+i*3;
                    let td = document.createElement("td");
                    td.style.verticalAlign = "middle";
                    td.style.height = "178px";
                    td.style.width = "114px";
                    td.style.cursor = "pointer";
                    td.innerHTML = "<img src='A-Qia-Xi-Zhi-Yan_Lei-Nuo-Man_" + data[index] + ".png' style='height:178px;width:114px'>"
                    td.style.textAlign = "center";
                    if (index == -1) {
                        td.innerHTML = "<div style='height:178px;width:114px'></div>"

                    }
                    tr.appendChild(td)
                }
                tb.appendChild(tr);
            }

        }


    }
</script>

</html>